# Docker Compose configuration for ToolCrate
# Generated from toolcrate.yaml on Mon Jun 09 04:16:25  2025
#
# Mount paths: /Volumes/External4TB/Music/toolcrate-data → /data, /Volumes/External4TB/Music/Music Library/toolcrate-downloads → /downloads, /Volumes/External4TB/Music/Music Library/toolcrate-library → /library, /Users/tleo/code/PRODUCTION-CLONES/toolcrate/config → /config
# Run from project root directory when using relative paths

services:
  toolcrate:
    build:
      context: ..
      dockerfile: Dockerfile
    image: toolcrate:latest
    container_name: toolcrate
    environment:
      - TZ=UTC
      - PUID=1000
      - PGID=1000
      - PYTHONPATH=/app/src
      - PYTHONUNBUFFERED=1
    volumes:
      - /Volumes/External4TB/Music/toolcrate-data:/data
      - /Volumes/External4TB/Music/Music Library/toolcrate-downloads:/downloads
      - /Volumes/External4TB/Music/Music Library/toolcrate-library:/library
      - /Users/tleo/code/PRODUCTION-CLONES/toolcrate/config:/config
    restart: unless-stopped
    networks:
      - toolcrate-network
    working_dir: /app
    command: ["tail", "-f", "/dev/null"]

  sldl:
    build:
      context: ../src/slsk-batchdl
      dockerfile: Dockerfile
    image: slsk-batchdl:latest
    container_name: sldl
    environment:
      - TZ=UTC
      - PUID=1000
      - PGID=1000
    volumes:
      - /Volumes/External4TB/Music/toolcrate-data:/data
      - /Volumes/External4TB/Music/Music Library/toolcrate-downloads:/downloads
      - /Volumes/External4TB/Music/Music Library/toolcrate-library:/library
      - /Users/tleo/code/PRODUCTION-CLONES/toolcrate/config:/config
    ports:
      - "49998:49998"
      - "49999:49999"
    restart: unless-stopped
    networks:
      - toolcrate-network

networks:
  toolcrate-network:
    driver: bridge

volumes:
  data:
    driver: local
    driver_opts:
      type: none
      o: bind
      device: /Volumes/External4TB/Music/toolcrate-data
  downloads:
    driver: local
    driver_opts:
      type: none
      o: bind
      device: /Volumes/External4TB/Music/Music Library/toolcrate-downloads
  library:
    driver: local
    driver_opts:
      type: none
      o: bind
      device: /Volumes/External4TB/Music/Music Library/toolcrate-library
  config:
    driver: local
    driver_opts:
      type: none
      o: bind
      device: /Users/tleo/code/PRODUCTION-CLONES/toolcrate/config
